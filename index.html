<!DOCTYPE html>
<html class="h-full">

<head lang="en-us">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <title>Josh's Blog - Home</title>
    <script>
        $(document).ready(function () {
            let dsRecent;
            let wdRecent;

            // Grab JSON containing all posts for Data Science
            $.ajax({
                url: "./dataScience/data.json", success: function (data) {

                    // Sorted by date, posts[0] is most recent
                    const dsRecent = data.posts[0]

                    // Preview limited to 500 char (including "...")
                    $("#dataScienceRecentBody").html(dsRecent.preview + "<b>...</b>")
                    // In case any # got through
                    $("#dataScienceRecentTitle").text(dsRecent.title.replace("# ", ""))
                    // Parent is an <a> tag, on click send to the page of the post
                    $("#dataScienceRecentTitle").parent().attr("href", `/dataScience?id=${dsRecent.id}`)
                    $("#dataScienceRecentSub").text(dsRecent.date)
                }
            })
            // Grab JSON containing all posts for Web Dev
            $.ajax({
                url: "./webDev/web.json", success: function (data) {
                    
                    // Sorted by date, posts[0] is most recent
                    const wdRecent = data.posts[0]

                    // Preview limited to 500 char (including "...")
                    $("#webDevRecentBody").html(wdRecent.preview + "<b>...</b>")
                    // In case and # got through
                    $("#webDevRecentTitle").text(wdRecent.title.replace("# ", ""))
                    // Parent is an <a> tag, on click send to the page of the post
                    $("#webDevRecentTitle").parent().attr("href", `/webDev?id=${wdRecent.id}`)
                    $("#webDevRecentSub").text(wdRecent.date)
                }
            })
        })
    </script>
    <script type="text/javascript" src="./js/time.js"></script>
</head>

<body>
    <!-- Navbar holds icon, then buttons -->
    <nav class="navbar navbar-dark bg-dark navbar-expand-md">
        <div class="container-fluid">
            <a class="navbar-brand align-bottom" href="/">
                <!-- Icon/Brand for page -->
                <i class="bi bi-file-earmark-code"></i>
                Josh's Blog
            </a>
            <!-- If screen is too small, hide navbar and have a toggle button (For phones or other small screens) -->
            <button class="navbar-toggler position-absolute translate-middle-x top-0 mt-2 start-50" type="button"
                data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Navbar Items/buttons -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a href="/dataScience/" class="nav-link">Data Science</a></li>
                    <li class="nav-item"><a href="/webDev/" class="nav-link">Web Dev</a></li>
                </ul>
            </div>
            <!-- Local time, on hover: Time since EPOCH -->
            <time id="dateTime" class="text-light position-absolute end-0 p-3 top-0"></time>
        </div>
    </nav>
    <br>
    <div>
        <!-- Recent Posts -->
        <h1 class="text-center">Blogs</h1>
        <div class="d-lg-flex justify-content-evenly">
            <div class="text-center flex-grow-1 p-5 w-100 w-md-50 h-100">
                <h3>Data Science</h3>
                <br>
                <p>Blog posts related to the <b>Data Science</b> course</p>
                <h5 class="text-lg font-medium">Recent Post</h5>
                <div>
                    <!-- Tags are empty, filled by script at the top of the file -->
                    <div class="card p-3" id="dataScienceRecent">
                        <div class="card-title" id="dataScienceRecentTitleCard">
                            <a>
                                <h3 id="dataScienceRecentTitle"></h3>
                            </a>
                        </div>
                        <div class="card-subtitle" id="dataScienceRecentSub">

                        </div>
                        <div class="card-body text-start">
                            <p id="dataScienceRecentBody"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center flex-grow-1 p-5 w-100 w-md-50 h-100">
                <h3>Web Dev</h3>
                <br>
                <p>Blog posts related to the <b>Web Dev</b> course</p>
                <h5 class="text-lg font-medium">Recent Post</h5>
                <div>
                    <!-- Tags are empty, filled by script at the top of the file -->
                    <div class="card p-3" id="webDevRecent">
                        <div class="card-title" id="webDevRecentTitleCard">
                            <a>
                                <h3 id="webDevRecentTitle"></h3>
                            </a>
                        </div>
                        <div class="card-subtitle" id="webDevRecentSub">

                        </div>
                        <div class="card-body text-start">
                            <p id="webDevRecentBody"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
